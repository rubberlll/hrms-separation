{"version":3,"file":"992.bundle.js","mappings":"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","sources":["webpack://my_pra/./src/pages/Resume.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Table,\n  Card,\n  Modal,\n  Typography,\n  Descriptions,\n  Tag,\n  Button,\n  Space,\n  message,\n} from \"antd\";\nimport type { ColumnsType } from \"antd/es/table\";\nimport { Document, Page, pdfjs } from \"react-pdf\";\nimport \"react-pdf/dist/esm/Page/AnnotationLayer.css\";\nimport \"react-pdf/dist/esm/Page/TextLayer.css\";\nimport request from \"../utils/request\";\n\nconst { Title } = Typography;\n\n// 设置 PDF.js worker 路径\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\n\ninterface ResumeType {\n  id: string;\n  name: string;\n  position: string;\n  email: string;\n  phone: string;\n  status: \"pending\" | \"reviewed\" | \"hired\" | \"rejected\";\n  submitTime: string;\n  fileUrl: string;\n  fileName: string;\n  education?: {\n    school: string;\n    major: string;\n    degree: string;\n    graduationYear: string;\n  };\n  workExperience?: {\n    company: string;\n    position: string;\n    duration: string;\n    description: string;\n  }[];\n  skills?: string[];\n  jobId?: string;\n  userId: string;\n  interviewProcess?: {\n    currentStage: \"初筛\" | \"技术面试\" | \"HR面试\" | \"终面\" | \"offer谈判\";\n    interviewDate?: string;\n    interviewer?: string;\n    feedback?: string;\n  };\n  employmentInfo?: {\n    employmentDate?: string;\n    department?: string;\n    position?: string;\n    salary?: string;\n    probationPeriod?: string;\n    contractPeriod?: string;\n  };\n}\n\nconst Resume = () => {\n  const [selectedResume, setSelectedResume] = useState<ResumeType | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [numPages, setNumPages] = useState<number>(0);\n  const [pageNumber, setPageNumber] = useState<number>(1);\n  const [isPdfModalOpen, setIsPdfModalOpen] = useState(false);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [resumes, setResumes] = useState<ResumeType[]>([]);\n\n  useEffect(() => {\n    fetchResumes();\n  }, []);\n\n  const fetchResumes = async () => {\n    setLoading(true);\n    try {\n      const response = await request.get(\"/resumes\");\n      if (response.data.code === 200) {\n        // 转换后端数据格式为前端格式\n        const formattedResumes = response.data.data.map((resume: any) => ({\n          id: resume._id,\n          name: resume.userId?.username || \"未知\",\n          position: resume.jobId?.title || \"未知职位\",\n          email: resume.userId?.email || \"\",\n          phone: resume.userId?.phone || \"\",\n          status: resume.status,\n          submitTime: new Date(resume.submittedAt).toLocaleString(),\n          fileUrl: resume.fileUrl,\n          fileName: resume.fileName,\n          education: resume.education,\n          workExperience: resume.workExperience,\n          skills: resume.skills,\n          jobId: resume.jobId?._id,\n          userId: resume.userId?._id,\n          interviewProcess: resume.interviewProcess,\n          employmentInfo: resume.employmentInfo,\n        }));\n        setResumes(formattedResumes);\n      }\n    } catch (error) {\n      console.error(\"获取简历列表失败:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 添加更新简历状态的函数\n  const updateResumeStatus = async (id: string, status: string) => {\n    try {\n      const response = await request.put(`/resumes/${id}`, { status });\n      if (response.data.code === 200) {\n        message.success(\"更新状态成功\");\n\n        // 如果状态是\"hired\"（已录用），则更新用户角色为\"employee\"\n        if (status === \"hired\" && selectedResume) {\n          try {\n            const userResponse = await request.put(\n              `/users/${selectedResume.userId}`,\n              {\n                role: \"employee\",\n                status: \"active\",\n              }\n            );\n            if (userResponse.data.code === 200) {\n              message.success(\"已将用户角色更新为员工\");\n            }\n          } catch (error) {\n            console.error(\"更新用户角色失败:\", error);\n            message.error(\"更新用户角色失败\");\n          }\n        }\n\n        fetchResumes(); // 刷新列表\n      }\n    } catch (error) {\n      console.error(\"更新简历状态失败:\", error);\n    }\n  };\n\n  // 检查用户是否已被录用\n  const checkUserHired = async (userId: string) => {\n    try {\n      const response = await request.get(`/resumes/user/${userId}`);\n      if (response.data.code === 200) {\n        // 检查该用户是否有已录用的简历\n        const hasHired = response.data.data.some(\n          (resume: any) => resume.status === \"hired\"\n        );\n        return hasHired;\n      }\n      return false;\n    } catch (error) {\n      console.error(\"检查用户录用状态失败:\", error);\n      return false;\n    }\n  };\n\n  // 状态映射\n  const getStatusText = (status: string) => {\n    const statusMap: Record<string, string> = {\n      pending: \"待处理\",\n      reviewed: \"已审核\",\n      hired: \"已录用\",\n      rejected: \"已拒绝\",\n    };\n    return statusMap[status] || status;\n  };\n\n  const getStatusColor = (status: string) => {\n    const colorMap: Record<string, string> = {\n      pending: \"gold\",\n      reviewed: \"blue\",\n      hired: \"green\",\n      rejected: \"red\",\n    };\n    return colorMap[status] || \"default\";\n  };\n\n  const columns: ColumnsType<ResumeType> = [\n    {\n      title: \"姓名\",\n      dataIndex: \"name\",\n      key: \"name\",\n    },\n    {\n      title: \"应聘职位\",\n      dataIndex: \"position\",\n      key: \"position\",\n    },\n    {\n      title: \"投递时间\",\n      dataIndex: \"submitTime\",\n      key: \"submitTime\",\n      sorter: (a, b) =>\n        new Date(a.submitTime).getTime() - new Date(b.submitTime).getTime(),\n    },\n    {\n      title: \"状态\",\n      dataIndex: \"status\",\n      key: \"status\",\n      render: (status: string) => {\n        return (\n          <Tag color={getStatusColor(status)}>{getStatusText(status)}</Tag>\n        );\n      },\n    },\n    {\n      title: \"操作\",\n      key: \"action\",\n      render: (_, record) => (\n        <Space>\n          <Button\n            type=\"link\"\n            onClick={() => {\n              setSelectedResume(record);\n              setIsModalOpen(true);\n            }}\n          >\n            查看详情\n          </Button>\n          <Button\n            type=\"link\"\n            onClick={() => {\n              setSelectedResume(record);\n              setIsPdfModalOpen(true);\n            }}\n          >\n            查看简历附件\n          </Button>\n        </Space>\n      ),\n    },\n  ];\n\n  // 获取文件URL\n  const getFileUrl = (url: string) => {\n    // 如果URL已经是完整的URL，则直接返回\n    if (url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\n      return url;\n    }\n\n    // 确保URL格式正确，应该是/api/files/而不是/api/uploads/files/\n    if (url.includes(\"/api/files/\")) {\n      return url.replace(\"/api/files/\", \"/api/files/\");\n    }\n\n    // 如果URL以/files开头，则添加/api前缀\n    if (url.startsWith(\"/files/\")) {\n      return `/api${url}`;\n    }\n\n    // 否则，确保URL以/api开头\n    if (!url.startsWith(\"/api\")) {\n      return `/api${url}`;\n    }\n    return url;\n  };\n\n  // 添加一个函数来判断文件类型\n  const isPdfFile = (fileName: string) => {\n    return fileName && fileName.toLowerCase().endsWith(\".pdf\");\n  };\n\n  return (\n    <div style={{ padding: 24 }}>\n      <Card>\n        <Title level={3}>简历管理</Title>\n        <Table\n          columns={columns}\n          dataSource={resumes}\n          rowKey=\"id\"\n          loading={loading}\n          pagination={{\n            pageSize: 10,\n            showTotal: (total) => `共 ${total} 条记录`,\n          }}\n        />\n      </Card>\n\n      <Modal\n        title=\"简历详情\"\n        open={isModalOpen}\n        onCancel={() => setIsModalOpen(false)}\n        width={800}\n        footer={[\n          <Button key=\"back\" onClick={() => setIsModalOpen(false)}>\n            关闭\n          </Button>,\n          <Button\n            key=\"updateStatus\"\n            onClick={() => {\n              if (selectedResume) {\n                // 打开一个状态选择的模态框或下拉菜单\n                // 这里简化为直接更新为\"reviewed\"状态\n                updateResumeStatus(selectedResume.id, \"reviewed\");\n                setIsModalOpen(false);\n              }\n            }}\n          >\n            标记为已审核\n          </Button>,\n          <Button\n            key=\"reject\"\n            danger\n            onClick={() => {\n              if (selectedResume) {\n                updateResumeStatus(selectedResume.id, \"rejected\");\n                setIsModalOpen(false);\n              }\n            }}\n          >\n            拒绝\n          </Button>,\n          <Button\n            key=\"hire\"\n            type=\"primary\"\n            onClick={async () => {\n              if (selectedResume) {\n                // 检查该用户是否已被录用\n                const isHired = await checkUserHired(selectedResume.userId);\n                if (isHired) {\n                  message.warning(\"该用户已有被录用的简历，无法重复录用\");\n                  return;\n                }\n\n                updateResumeStatus(selectedResume.id, \"hired\");\n                setIsModalOpen(false);\n                // 这里可以添加录用信息填写的逻辑\n              }\n            }}\n          >\n            录用\n          </Button>,\n        ]}\n      >\n        {selectedResume && (\n          <Descriptions column={2} bordered>\n            <Descriptions.Item label=\"姓名\" span={2}>\n              {selectedResume.name}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"应聘职位\" span={2}>\n              {selectedResume.position}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"邮箱\">\n              {selectedResume.email}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"电话\">\n              {selectedResume.phone}\n            </Descriptions.Item>\n\n            <Descriptions.Item label=\"教育背景\" span={2}>\n              {selectedResume.education?.school} -{\" \"}\n              {selectedResume.education?.major}\n              <br />\n              {selectedResume.education?.degree} ·{\" \"}\n              {selectedResume.education?.graduationYear}年毕业\n            </Descriptions.Item>\n\n            <Descriptions.Item label=\"工作经历\" span={2}>\n              {selectedResume.workExperience?.map((exp, index) => (\n                <div key={index} style={{ marginBottom: 16 }}>\n                  <strong>{exp.company}</strong> - {exp.position}\n                  <br />\n                  {exp.duration}\n                  <br />\n                  {exp.description}\n                </div>\n              ))}\n            </Descriptions.Item>\n\n            {selectedResume.interviewProcess && (\n              <Descriptions.Item label=\"面试进度\" span={2}>\n                <Space direction=\"vertical\" style={{ width: \"100%\" }}>\n                  <div>\n                    当前阶段：{selectedResume.interviewProcess.currentStage}\n                  </div>\n                  {selectedResume.interviewProcess.interviewDate && (\n                    <div>\n                      面试时间：{selectedResume.interviewProcess.interviewDate}\n                    </div>\n                  )}\n                  {selectedResume.interviewProcess.interviewer && (\n                    <div>\n                      面试官：{selectedResume.interviewProcess.interviewer}\n                    </div>\n                  )}\n                  {selectedResume.interviewProcess.feedback && (\n                    <div>\n                      面试反馈：{selectedResume.interviewProcess.feedback}\n                    </div>\n                  )}\n                </Space>\n              </Descriptions.Item>\n            )}\n\n            {selectedResume.employmentInfo && (\n              <Descriptions.Item label=\"录用信息\" span={2}>\n                <Space direction=\"vertical\" style={{ width: \"100%\" }}>\n                  {selectedResume.employmentInfo.employmentDate && (\n                    <div>\n                      入职日期：{selectedResume.employmentInfo.employmentDate}\n                    </div>\n                  )}\n                  {selectedResume.employmentInfo.department && (\n                    <div>\n                      入职部门：{selectedResume.employmentInfo.department}\n                    </div>\n                  )}\n                  {selectedResume.employmentInfo.position && (\n                    <div>职位：{selectedResume.employmentInfo.position}</div>\n                  )}\n                  {selectedResume.employmentInfo.salary && (\n                    <div>薪资：{selectedResume.employmentInfo.salary}</div>\n                  )}\n                  {selectedResume.employmentInfo.probationPeriod && (\n                    <div>\n                      试用期：{selectedResume.employmentInfo.probationPeriod}\n                    </div>\n                  )}\n                  {selectedResume.employmentInfo.contractPeriod && (\n                    <div>\n                      合同期限：{selectedResume.employmentInfo.contractPeriod}\n                    </div>\n                  )}\n                </Space>\n              </Descriptions.Item>\n            )}\n          </Descriptions>\n        )}\n      </Modal>\n\n      <Modal\n        title=\"简历附件\"\n        open={isPdfModalOpen}\n        onCancel={() => setIsPdfModalOpen(false)}\n        width={1000}\n        footer={[\n          <Button key=\"close\" onClick={() => setIsPdfModalOpen(false)}>\n            关闭\n          </Button>,\n          <Button\n            key=\"download\"\n            type=\"primary\"\n            onClick={() =>\n              selectedResume && window.open(getFileUrl(selectedResume.fileUrl))\n            }\n          >\n            下载\n          </Button>,\n        ]}\n        styles={{ body: { height: \"80vh\" } }}\n      >\n        {selectedResume && (\n          <div style={{ height: \"100%\", width: \"100%\" }}>\n            <Typography.Text\n              strong\n              style={{ display: \"block\", marginBottom: 10 }}\n            >\n              文件名：{selectedResume.fileName}\n            </Typography.Text>\n            <iframe\n              src={getFileUrl(selectedResume.fileUrl)}\n              style={{ width: \"100%\", height: \"70vh\", border: \"none\" }}\n              title=\"简历预览\"\n            >\n              <p>\n                您的浏览器不支持iframe。\n                <a\n                  href={getFileUrl(selectedResume.fileUrl)}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  点击下载\n                </a>\n              </p>\n            </iframe>\n          </div>\n        )}\n      </Modal>\n    </div>\n  );\n};\n\nexport default Resume;\n"],"names":["Title","Typography","pdfjs","workerSrc","Resume","selectedResume","setSelectedResume","useState","isModalOpen","setIsModalOpen","numPages","setNumPages","pageNumber","setPageNumber","isPdfModalOpen","setIsPdfModalOpen","loading","setLoading","resumes","setResumes","useEffect","fetchResumes","async","response","request","get","data","code","formattedResumes","map","resume","id","_id","name","userId","username","position","jobId","title","email","phone","status","submitTime","Date","submittedAt","toLocaleString","fileUrl","fileName","education","workExperience","skills","interviewProcess","employmentInfo","error","console","updateResumeStatus","put","message","success","role","getStatusColor","pending","reviewed","hired","rejected","columns","dataIndex","key","sorter","a","b","getTime","render","React","Tag","color","getStatusText","_","record","Space","Button","type","onClick","getFileUrl","url","startsWith","includes","replace","style","padding","Card","level","Table","dataSource","rowKey","pagination","pageSize","showTotal","total","Modal","open","onCancel","width","footer","danger","some","checkUserHired","warning","Descriptions","column","bordered","Item","label","span","school","major","degree","graduationYear","exp","index","marginBottom","company","duration","description","direction","currentStage","interviewDate","interviewer","feedback","employmentDate","department","salary","probationPeriod","contractPeriod","window","styles","body","height","Text","strong","display","src","border","href","target","rel"],"sourceRoot":""}