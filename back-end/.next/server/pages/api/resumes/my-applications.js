"use strict";(()=>{var e={};e.id=691,e.ids=[691],e.modules={9344:e=>{e.exports=require("jsonwebtoken")},1185:e=>{e.exports=require("mongoose")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},4148:(e,t,a)=>{a.r(t),a.d(t,{config:()=>m,default:()=>p,routeModule:()=>c});var s={};a.r(s),a.d(s,{default:()=>l});var r=a(1802),i=a(7153),o=a(6249),d=a(5011),n=a(4861),u=a(9529);async function handler(e,t){if("GET"!==e.method)return t.status(405).json({code:405,message:"方法不允许",data:null});try{await (0,d.Z)();let a=e.user,s=await n.Z.find({userId:a.userId}).populate("jobId","title department").sort({submittedAt:-1}),r=s.map(e=>({key:e._id,position:e.jobId?e.jobId.title:"未知职位",department:e.jobId?e.jobId.department:"",fileName:e.fileName,submittedAt:e.submittedAt.toISOString().split("T")[0],status:e.status}));return t.status(200).json({code:200,message:"获取申请记录成功",data:r})}catch(e){return console.error(e),t.status(500).json({code:500,message:"服务器错误",data:null})}}let l=(0,u.l)(handler),p=(0,o.l)(s,"default"),m=(0,o.l)(s,"config"),c=new r.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/resumes/my-applications",pathname:"/api/resumes/my-applications",bundlePath:"",filename:""},userland:s})}};var t=require("../../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[222,529,53],()=>__webpack_exec__(4148));module.exports=a})();