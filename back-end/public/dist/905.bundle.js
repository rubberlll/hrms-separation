"use strict";(self.webpackChunkmy_pra=self.webpackChunkmy_pra||[]).push([[905],{5060:(e,t,n)=>{n.d(t,{A:()=>i});var l=n(1354),a=n.n(l),r=n(6314),c=n.n(r)()(a());c.push([e.id,".h-screen {\n  height: 100vh;\n}\n","",{version:3,sources:["webpack://./src/pages/home/home.less"],names:[],mappings:"AAAA;EACE,aAAA;AACF",sourcesContent:[".h-screen {\n  height: 100vh;\n}\n"],sourceRoot:""}]);const i=c},9905:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ne});var l=n(6540),a=n(6744),r=n(8403),c=n(5072),i=n.n(c),m=n(7825),o=n.n(m),s=n(7659),u=n.n(s),p=n(5056),d=n.n(p),y=n(540),A=n.n(y),E=n(1113),h=n.n(E),k=n(5060),b={};b.styleTagTransform=h(),b.setAttributes=d(),b.insert=u().bind(null,"head"),b.domAPI=o(),b.insertStyleElement=A(),i()(k.A,b),k.A&&k.A.locals&&k.A.locals;var g=n(7450),v=n(6316),C=n(7028),f=n(751),x=n(6157),I=n(1201),T=n(5448),w=n(5131),S=n(7206),D=n(2941),M=n(6914),H=n(8602),F=n(4103),R=n(4054),j=n(3532),z=n(8603),O=n(2702),$=n(6945),_=n(9957),B=n(5739),N=n(6715),q=n(1427);const L=()=>l.createElement(O.A,{direction:"vertical",size:16},l.createElement(q.A,{size:36,icon:l.createElement(g.A,null)}));var P=n(1819),U=n(9298);const Z=()=>{const e=(0,r.i)((e=>e.logout)),t=(0,r.i)((e=>e.userInfo)),n=(0,P.C)((e=>e.toggleTheme)),a=(0,P.C)((e=>e.isDarkMode)),{token:c}=w.A.useToken(),[i,m]=(0,l.useState)(""),[o,s]=(0,l.useState)(!1),[u]=R.A.useForm(),[p,d]=(0,l.useState)(!1);(0,l.useEffect)((()=>{t&&(m(t.username||""),u.setFieldsValue({username:t.username,email:t.email,phone:t.phone||"",employmentType:t.employmentType||void 0,entryDate:t.entryDate?new Date(t.entryDate):void 0}))}),[t,u]);const y=[{key:"1",label:`${i||"我"}的账户`,disabled:!0},{type:"divider"},{key:"2",label:"退出登录",extra:"⌘P",onClick:()=>{e(),window.location.href="/login"}},{key:"3",label:"设置",icon:l.createElement(H.A,null),extra:"⌘S",onClick:()=>s(!0)},{type:"divider"},{key:"4",label:`切换到${a?"浅色":"深色"}主题`,onClick:()=>{n()}}];return l.createElement(l.Fragment,null,l.createElement(z.A,{menu:{items:y}},l.createElement("a",{onClick:e=>e.preventDefault()},l.createElement(O.A,null,l.createElement(L,null),l.createElement("span",null,i||"用户"),l.createElement(F.A,null)))),l.createElement($.A,{title:"个人设置",open:o,onCancel:()=>s(!1),onOk:()=>u.submit(),confirmLoading:p,okText:"保存",cancelText:"取消"},l.createElement(R.A,{form:u,layout:"vertical",onFinish:async e=>{if(t?.userId){d(!0);try{const n=await U.A.put(`/users/${t.userId}`,e);200===n.data.code?(j.Ay.success("个人信息更新成功"),s(!1)):j.Ay.error(n.data.message||"更新失败")}catch(e){console.error("更新个人信息失败:",e),j.Ay.error("更新个人信息失败")}finally{d(!1)}}}},l.createElement(R.A.Item,{name:"username",label:"用户名",rules:[{required:!0,message:"请输入用户名"}]},l.createElement(_.A,{placeholder:"请输入用户名"})),l.createElement(R.A.Item,{name:"email",label:"邮箱",rules:[{required:!0,message:"请输入邮箱"},{type:"email",message:"请输入有效的邮箱地址"}]},l.createElement(_.A,{placeholder:"请输入邮箱"})),l.createElement(R.A.Item,{name:"phone",label:"电话"},l.createElement(_.A,{placeholder:"请输入电话号码"})),l.createElement(R.A.Item,{name:"employmentType",label:"雇佣类型"},l.createElement(B.A,{placeholder:"请选择雇佣类型"},l.createElement(B.A.Option,{value:"全职"},"全职"),l.createElement(B.A.Option,{value:"兼职"},"兼职"),l.createElement(B.A.Option,{value:"实习"},"实习"))),l.createElement(R.A.Item,{name:"entryDate",label:"入职日期"},l.createElement(N.A,{placeholder:"请选择入职日期",style:{width:"100%"}})))))};var G=n(4546),K=n(6749),Q=n(8410),V=n(5079),J=n(4431);const W=({routeMap:e})=>{const t=(0,a.zy)(),n=(0,a.Zp)();return l.createElement(J.A,{items:(()=>{const l=t.pathname.split("/").filter(Boolean);let a="";const r=[{title:"首页",onClick:()=>n("/")}];for(let t=0;t<l.length;t++){a+=`/${l[t]}`;const c=e[a];c&&r.push({title:c,onClick:()=>n(a)})}return r})()})},{Header:X,Sider:Y,Content:ee}=T.A,te=({item:e,index:t,moveItem:n})=>{const[,a]=(0,Q.i)({type:"MENU_ITEM",item:{index:t}}),[,r]=(0,V.H)({accept:"MENU_ITEM",hover:e=>{e.index!==t&&(n(e.index,t),e.index=t)}});return l.createElement("div",{ref:e=>{a(e),r(e)}},e)},ne=()=>{const e=(0,a.Zp)(),{token:t}=(0,r.i)(),[n,c]=(0,l.useState)(!1),[i,m]=(0,l.useState)([{path:"/",label:"首页"}]),{token:{colorBgContainer:o,borderRadiusLG:s}}=w.A.useToken(),[u,p]=(0,l.useState)([{key:"1",icon:l.createElement(g.A,null),label:"首页",onClick:()=>{e("/"),y("/","首页")}},{key:"2",icon:l.createElement(v.A,null),label:"员工管理",onClick:()=>{e("/user"),y("/user","员工管理")}},{key:"3",icon:l.createElement(C.A,null),label:"招聘管理",children:[{key:"3-1",label:"简历查看",onClick:()=>{e("/recruitment/resume"),y("/recruitment/resume","简历查看")}},{key:"3-2",label:"职位发布",onClick:()=>{e("/recruitment/jobs"),y("/recruitment/jobs","职位发布")}},{key:"3-3",label:"申请职位",onClick:()=>{e("/recruitment/apply"),y("/recruitment/apply","申请职位")}},{key:"3-4",label:"我的申请",onClick:()=>{e("/recruitment/my-applications"),y("/recruitment/my-applications","我的申请")}}]},{key:"4",icon:l.createElement(g.A,null),label:"权限管理",onClick:()=>{e("/permission-management"),y("/permission-management","权限管理")}},{key:"5",icon:l.createElement(f.A,null),label:"部门管理",onClick:()=>{e("/department"),y("/department","部门管理")}}]),d=(e,t)=>{p((n=>{const l=[...n],[a]=l.splice(e,1);return l.splice(t,0,a),l}))},y=(e,t)=>{m((n=>n.find((t=>t.path===e))?n:[...n,{path:e,label:t}]))};return l.createElement(G.Q,{backend:K.t2},l.createElement(T.A,{style:{minHeight:"100vh"}},l.createElement(Y,{trigger:null,collapsible:!0,collapsed:n,style:{minHeight:"100vh"}},l.createElement("div",{className:"demo-logo-vertical"}),l.createElement("h2",{style:{textAlign:"center",marginTop:"10px",color:"white"}},"HRM系统"),l.createElement(S.A,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],items:u.map(((e,t)=>({...e,label:l.createElement(te,{item:e.label,index:t,moveItem:d})})))})),l.createElement(T.A,null,l.createElement(X,{style:{padding:0,background:o,display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement("div",{style:{display:"flex",alignItems:"center"}},l.createElement(D.Ay,{type:"text",icon:n?l.createElement(x.A,null):l.createElement(I.A,null),onClick:()=>c(!n),style:{fontSize:"16px",width:64,height:64}}),l.createElement(W,{routeMap:{"/":"首页","/user":"员工管理","/recruitment":"招聘管理","/recruitment/resume":"简历查看","/recruitment/jobs":"职位发布","/recruitment/apply":"申请职位","/recruitment/my-applications":"我的申请","/permission-management":"权限管理","/department":"部门管理"}})),l.createElement(Z,null)),l.createElement("div",{style:{padding:"8px 16px",background:o,borderBottom:"1px solid #f0f0f0"}},i.map((t=>l.createElement(M.A,{key:t.path,closable:"/"!==t.path,style:{marginRight:8,cursor:"pointer"},onClick:()=>e(t.path),onClose:e=>{var n;e.preventDefault(),n=t.path,m((e=>e.filter((e=>e.path!==n))))}},t.label)))),l.createElement(ee,{style:{margin:"24px 16px",padding:24,minHeight:280,background:o,borderRadius:s}},l.createElement(a.sv,null)))))}}}]);
//# sourceMappingURL=905.bundle.js.map